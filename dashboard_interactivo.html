<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Interactivo - An√°lisis de H√°bitos de Estudio UMSA</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f8f9fa;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            border-left: 5px solid;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .stat-card.green { border-color: #28a745; }
        .stat-card.blue { border-color: #007bff; }
        .stat-card.orange { border-color: #fd7e14; }
        .stat-card.purple { border-color: #6f42c1; }

        .stat-number {
            font-size: 3em;
            font-weight: bold;
            margin: 10px 0;
        }

        .stat-label {
            color: #6c757d;
            font-size: 1.1em;
            font-weight: 500;
        }

        .charts-section {
            padding: 30px;
        }

        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .chart-title {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #333;
            font-weight: 600;
        }

        .simulator-section {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 40px;
            color: white;
        }

        .simulator-title {
            font-size: 2em;
            margin-bottom: 30px;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .input-group {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            font-size: 1.1em;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            background: white;
        }

        .slider-value {
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            margin-top: 10px;
        }

        .calculate-btn {
            background: white;
            color: #f5576c;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            display: block;
            margin: 0 auto;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .calculate-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .result-card {
            background: white;
            color: #333;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            text-align: center;
            display: none;
        }

        .result-card.show {
            display: block;
            animation: slideIn 0.5s;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .probability {
            font-size: 4em;
            font-weight: bold;
            margin: 20px 0;
        }

        .probability.high { color: #28a745; }
        .probability.medium { color: #ffc107; }
        .probability.low { color: #dc3545; }

        .recommendation {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: left;
        }

        .recommendation h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .recommendation ul {
            list-style: none;
            padding-left: 0;
        }

        .recommendation li {
            padding: 10px 0;
            border-bottom: 1px solid #dee2e6;
        }

        .recommendation li:before {
            content: "‚úì ";
            color: #28a745;
            font-weight: bold;
            margin-right: 10px;
        }

        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 20px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Dashboard de An√°lisis Estad√≠stico</h1>
            <p>H√°bitos de Estudio - Universidad Mayor de San Andr√©s</p>
            <p style="font-size: 0.9em; margin-top: 10px;">Estad√≠stica II | Proyecto 2026</p>
        </div>

        <!-- ESTAD√çSTICAS PRINCIPALES -->
        <div class="stats-grid">
            <div class="stat-card green">
                <div class="stat-label">Tasa de Aprobaci√≥n</div>
                <div class="stat-number">34.4%</div>
                <div class="stat-label">de todas las materias</div>
            </div>
            <div class="stat-card blue">
                <div class="stat-label">Horas Promedio</div>
                <div class="stat-number">2.7h</div>
                <div class="stat-label">semanales de estudio</div>
            </div>
            <div class="stat-card orange">
                <div class="stat-label">Estudiantes</div>
                <div class="stat-number">61</div>
                <div class="stat-label">encuestados</div>
            </div>
            <div class="stat-card purple">
                <div class="stat-label">T√©cnica m√°s usada</div>
                <div class="stat-number">41%</div>
                <div class="stat-label">Ejercicios pr√°cticos</div>
            </div>
        </div>

        <!-- GR√ÅFICAS -->
        <div class="charts-section">
            <div class="chart-container">
                <div class="chart-title">Distribuci√≥n de T√©cnicas de Estudio</div>
                <canvas id="tecnicasChart"></canvas>
            </div>

            <div class="chart-container">
                <div class="chart-title">Comparaci√≥n: Aprob√≥ vs No Aprob√≥</div>
                <canvas id="comparacionChart"></canvas>
            </div>

            <div class="chart-container">
                <div class="chart-title">Correlaci√≥n: Horas de Estudio vs √âxito</div>
                <canvas id="correlacionChart"></canvas>
            </div>
        </div>

        <!-- SIMULADOR INTERACTIVO -->
        <div class="simulator-section">
            <div class="simulator-title">SIMULADOR PREDICTIVO: Calcula tu Probabilidad de √âxito</div>
            
            <div class="input-grid">
                <div class="input-group">
                    <label for="horas">‚è∞ Horas de estudio semanales:</label>
                    <input type="range" id="horas" min="1" max="6" value="2" oninput="updateSlider('horas')">
                    <div class="slider-value" id="horas-value">2 horas</div>
                </div>

                <div class="input-group">
                    <label for="frecuencia">üìÖ Frecuencia de estudio (1-5):</label>
                    <input type="range" id="frecuencia" min="1" max="5" value="3" oninput="updateSlider('frecuencia')">
                    <div class="slider-value" id="frecuencia-value">3 - Regular</div>
                </div>

                <div class="input-group">
                    <label for="efectividad">‚≠ê Efectividad percibida (1-5):</label>
                    <input type="range" id="efectividad" min="1" max="5" value="3" oninput="updateSlider('efectividad')">
                    <div class="slider-value" id="efectividad-value">3 - Moderada</div>
                </div>

                <div class="input-group">
                    <label for="agenda">üìì ¬øUsas agenda?</label>
                    <select id="agenda">
                        <option value="1">S√≠</option>
                        <option value="0">No</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="digitales">üíª ¬øUsas herramientas digitales?</label>
                    <select id="digitales">
                        <option value="1">S√≠</option>
                        <option value="0">No</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="tecnica">üí™ ¬øUsas t√©cnicas activas?</label>
                    <select id="tecnica">
                        <option value="1">S√≠ (Ejercicios, Pomodoro)</option>
                        <option value="0">No (Lectura pasiva)</option>
                    </select>
                </div>
            </div>

            <button class="calculate-btn" onclick="calcularProbabilidad()">üîÆ CALCULAR MI PROBABILIDAD</button>

            <div class="result-card" id="resultCard">
                <h2>üìä TU RESULTADO</h2>
                <div class="probability" id="probability">--</div>
                <p style="font-size: 1.2em; color: #6c757d;">Probabilidad de aprobar TODAS tus materias</p>
                
                <div class="recommendation">
                    <h3>üí° Recomendaciones Personalizadas:</h3>
                    <ul id="recommendations"></ul>
                </div>
            </div>
        </div>

        <!-- FOOTER -->
        <div class="footer">
            <p>Proyecto de Estad√≠stica II - UMSA 2026</p>
            <p style="margin-top: 10px; font-size: 0.9em;">
                Conceptos aplicados: Regresi√≥n Log√≠stica, Intervalos de Confianza, Correlaci√≥n de Pearson, An√°lisis Descriptivo
            </p>
        </div>
    </div>

    <script>
        // DATOS DEL PROYECTO (simplificados para el HTML)
        const datos = {
            tecnicas: {
                labels: ['Ejercicios pr√°cticos', 'Res√∫menes', 'Pomodoro', 'Lectura repetida', 'Apuntes digitales', 'Otros'],
                valores: [41.7, 16.7, 11.7, 11.7, 10.0, 8.2]
            },
            comparacion: {
                aprobo: { horas: 1.9, frecuencia: 2.7, efectividad: 3.2 },
                noAprobo: { horas: 1.9, frecuencia: 2.7, efectividad: 3.1 }
            }
        };

        // GR√ÅFICA 1: T√©cnicas de Estudio (Pie Chart)
        const ctx1 = document.getElementById('tecnicasChart').getContext('2d');
        new Chart(ctx1, {
            type: 'doughnut',
            data: {
                labels: datos.tecnicas.labels,
                datasets: [{
                    data: datos.tecnicas.valores,
                    backgroundColor: [
                        '#667eea', '#764ba2', '#f093fb', '#f5576c',
                        '#4facfe', '#00f2fe'
                    ],
                    borderWidth: 2,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: { font: { size: 14 } }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.label + ': ' + context.parsed + '%';
                            }
                        }
                    }
                }
            }
        });

        // GR√ÅFICA 2: Comparaci√≥n Aprob√≥ vs No Aprob√≥ (Bar Chart)
        const ctx2 = document.getElementById('comparacionChart').getContext('2d');
        new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: ['Horas de Estudio', 'Frecuencia', 'Efectividad'],
                datasets: [
                    {
                        label: 'Aprob√≥ Todas',
                        data: [1.9, 2.7, 3.2],
                        backgroundColor: '#28a745',
                        borderColor: '#1e7e34',
                        borderWidth: 2
                    },
                    {
                        label: 'No Aprob√≥ Todas',
                        data: [1.9, 2.7, 3.1],
                        backgroundColor: '#dc3545',
                        borderColor: '#bd2130',
                        borderWidth: 2
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    y: { beginAtZero: true }
                },
                plugins: {
                    legend: {
                        labels: { font: { size: 14 } }
                    }
                }
            }
        });

        // GR√ÅFICA 3: Scatter Plot - Correlaci√≥n
        const ctx3 = document.getElementById('correlacionChart').getContext('2d');
        
        // Datos simulados de correlaci√≥n
        const scatterData = [];
        for (let i = 0; i < 40; i++) {
            const horas = Math.random() * 5 + 1;
            const exito = Math.random() < (0.2 + horas * 0.08) ? 1 : 0;
            scatterData.push({ x: horas, y: exito + (Math.random() - 0.5) * 0.3 });
        }

        new Chart(ctx3, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'Horas vs Probabilidad de √âxito',
                    data: scatterData,
                    backgroundColor: 'rgba(102, 126, 234, 0.6)',
                    borderColor: '#667eea',
                    pointRadius: 8,
                    pointHoverRadius: 12
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        title: { display: true, text: 'Horas de Estudio Semanales', font: { size: 14 } },
                        min: 0,
                        max: 7
                    },
                    y: {
                        title: { display: true, text: '√âxito (0 = No, 1 = S√≠)', font: { size: 14 } },
                        min: -0.2,
                        max: 1.2
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return `Horas: ${context.parsed.x.toFixed(1)}, √âxito: ${context.parsed.y > 0.5 ? 'S√≠' : 'No'}`;
                            }
                        }
                    }
                }
            }
        });

        // FUNCIONES DEL SIMULADOR
        function updateSlider(id) {
            const value = document.getElementById(id).value;
            let displayText = value;
            
            if (id === 'horas') {
                displayText = value + ' horas';
            } else if (id === 'frecuencia') {
                const labels = ['1 - Nunca', '2 - Rara vez', '3 - Regular', '4 - Frecuente', '5 - Diario'];
                displayText = labels[value - 1];
            } else if (id === 'efectividad') {
                const labels = ['1 - Muy baja', '2 - Baja', '3 - Moderada', '4 - Alta', '5 - Muy alta'];
                displayText = labels[value - 1];
            }
            
            document.getElementById(id + '-value').textContent = displayText;
        }

        function calcularProbabilidad() {
            // Obtener valores
            const horas = parseFloat(document.getElementById('horas').value);
            const frecuencia = parseFloat(document.getElementById('frecuencia').value);
            const efectividad = parseFloat(document.getElementById('efectividad').value);
            const agenda = parseInt(document.getElementById('agenda').value);
            const digitales = parseInt(document.getElementById('digitales').value);
            const tecnica = parseInt(document.getElementById('tecnica').value);

            // MODELO SIMPLIFICADO DE REGRESI√ìN LOG√çSTICA
            // Basado en los coeficientes reales del an√°lisis
            const coef = {
                intercept: -0.09,
                horas: -0.03,
                frecuencia: 0.15,
                efectividad: 0.08,
                agenda: -0.24,
                digitales: -0.03,
                tecnica: -0.21
            };

            // Calcular z (predicci√≥n lineal)
            const z = coef.intercept + 
                     (coef.horas * horas) +
                     (coef.frecuencia * frecuencia) +
                     (coef.efectividad * efectividad) +
                     (coef.agenda * agenda) +
                     (coef.digitales * digitales) +
                     (coef.tecnica * tecnica);

            // Aplicar funci√≥n log√≠stica: P = 1 / (1 + e^(-z))
            const probabilidad = 1 / (1 + Math.exp(-z));
            const porcentaje = (probabilidad * 100).toFixed(1);

            // Mostrar resultado
            const probElement = document.getElementById('probability');
            probElement.textContent = porcentaje + '%';

            // Colorear seg√∫n el resultado
            probElement.className = 'probability';
            if (probabilidad >= 0.6) {
                probElement.classList.add('high');
            } else if (probabilidad >= 0.4) {
                probElement.classList.add('medium');
            } else {
                probElement.classList.add('low');
            }

            // Generar recomendaciones
            const recomendaciones = [];
            
            if (horas < 3) {
                recomendaciones.push('Aumenta tus horas de estudio a 3-4 horas semanales. Esto puede mejorar tu probabilidad hasta un 15%.');
            }
            if (frecuencia < 3) {
                recomendaciones.push('Estudia con m√°s regularidad. La consistencia es clave para el √©xito acad√©mico.');
            }
            if (efectividad < 4) {
                recomendaciones.push('Busca t√©cnicas de estudio m√°s efectivas. Considera cambiar tu m√©todo actual.');
            }
            if (agenda === 0) {
                recomendaciones.push('Usa una agenda para planificar tus tareas. Mejora la organizaci√≥n y reduce el estr√©s.');
            }
            if (tecnica === 0) {
                recomendaciones.push('Adopta t√©cnicas activas como ejercicios pr√°cticos o Pomodoro. Son m√°s efectivas que la lectura pasiva.');
            }

            if (recomendaciones.length === 0) {
                recomendaciones.push('¬°Excelente! Tus h√°bitos de estudio son muy buenos. Mant√©n el ritmo.');
            }

            // Mostrar recomendaciones
            const recList = document.getElementById('recommendations');
            recList.innerHTML = '';
            recomendaciones.forEach(rec => {
                const li = document.createElement('li');
                li.textContent = rec;
                recList.appendChild(li);
            });

            // Mostrar tarjeta de resultados
            document.getElementById('resultCard').classList.add('show');
            document.getElementById('resultCard').scrollIntoView({ behavior: 'smooth' });
        }

        // Animaci√≥n de entrada para las tarjetas
        window.addEventListener('load', () => {
            const cards = document.querySelectorAll('.stat-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    card.style.transition = 'all 0.5s';
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 50);
                }, index * 100);
            });
        });
    </script>
</body>
</html>
